(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfc5261e"],{"0857":function(e,t,r){"use strict";r("41d9")},1276:function(e,t,r){"use strict";var i=r("d784"),a=r("44e7"),n=r("825a"),s=r("1d80"),o=r("4840"),l=r("8aa5"),c=r("50c4"),u=r("577e"),d=r("dc4a"),f=r("14c3"),w=r("9263"),h=r("9f7f"),p=r("d039"),v=h.UNSUPPORTED_Y,g=[].push,m=Math.min,k=4294967295,b=!p((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));i("split",(function(e,t,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var i=u(s(this)),n=void 0===r?k:r>>>0;if(0===n)return[];if(void 0===e)return[i];if(!a(e))return t.call(i,e,n);var o,l,c,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,p=new RegExp(e.source,f+"g");while(o=w.call(p,i)){if(l=p.lastIndex,l>h&&(d.push(i.slice(h,o.index)),o.length>1&&o.index<i.length&&g.apply(d,o.slice(1)),c=o[0].length,h=l,d.length>=n))break;p.lastIndex===o.index&&p.lastIndex++}return h===i.length?!c&&p.test("")||d.push(""):d.push(i.slice(h)),d.length>n?d.slice(0,n):d}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var a=s(this),n=void 0==t?void 0:d(t,e);return n?n.call(t,a,r):i.call(u(a),t,r)},function(e,a){var s=n(this),d=u(e),w=r(i,s,d,a,i!==t);if(w.done)return w.value;var h=o(s,RegExp),p=s.unicode,g=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(v?"g":"y"),b=new h(v?"^(?:"+s.source+")":s,g),x=void 0===a?k:a>>>0;if(0===x)return[];if(0===d.length)return null===f(b,d)?[d]:[];var C=0,F=0,y=[];while(F<d.length){b.lastIndex=v?0:F;var D,P=f(b,v?d.slice(F):d);if(null===P||(D=m(c(b.lastIndex+(v?F:0)),d.length))===C)F=l(d,F,p);else{if(y.push(d.slice(C,F)),y.length===x)return y;for(var R=1;R<=P.length-1;R++)if(y.push(P[R]),y.length===x)return y;F=C=D}}return y.push(d.slice(C)),y}]}),!b,v)},"41d9":function(e,t,r){},"75a6":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"sidebar-area col-3 px-4 pt-2"},[r("SideBar",{on:{openArea:e.openTweetArea}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isProcessing,expression:"isProcessing"}],staticClass:"fa-3x col-6",staticStyle:{border:"2px #e9e9e9 solid",padding:"0"}},[r("i",{staticClass:"fas fa-circle-notch fa-spin"})]),r("div",{staticClass:"follow-list col-6 p-0 border",class:{dataReading:e.isProcessing}},[r("div",{staticClass:"nav-bar d-flex align-items-center p-2"},[r("div",{staticClass:"back-icon mr-3 d-flex align-items-center",on:{click:function(t){return e.$router.back()}}},[r("i",{staticClass:"fas fa-arrow-left"})]),r("div",{staticClass:"title d-flex align-items-center"},[r("span",{staticClass:"user-name",staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(e.userName)+" ")])])]),r("div",{staticClass:"following-followers d-flex mt-3"},[r("div",{staticClass:"follower",class:{firstClicked:e.followersClicked},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.fetchFollowers(e.userId)}}},[r("span",[e._v("跟隨者")])]),r("div",{staticClass:"following",class:{firstClicked:e.followingsClicked},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.fetchFollowings(e.userId)}}},[r("span",[e._v("正在跟隨")])])]),e._l(e.followData,(function(t){return r("div",{key:t.id,staticClass:"members p-2 d-flex",staticStyle:{"border-bottom":"2px #dee2e6 solid"}},[r("div",{staticClass:"member-pic pt-2 mr-1",staticStyle:{width:"11%"}},[r("router-link",{attrs:{to:{name:"other-user",params:{id:t.id}}}},[r("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.avatar,alt:"..."}})])],1),r("div",{staticClass:"member-data",staticStyle:{width:"89%"}},[r("div",{staticClass:"d-flex justify-content-between align-items-center",staticStyle:{"margin-bottom":"12px"}},[r("div",{staticClass:"member d-flex flex-column",staticStyle:{position:"relative"}},[r("router-link",{staticClass:"member-name",attrs:{to:{name:"other-user",params:{id:t.id}}}},[e._v(" "+e._s(t.name)+" ")]),r("small",{staticClass:"member-account"},[e._v("@"+e._s(t.account))])],1),t.isUserFollowing?r("button",{staticClass:"following-btn btn",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.removeFollowing(t.id)}}},[e._v(" 正在跟隨 ")]):r("button",{staticClass:"follow-btn btn",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.addFollowing(t.id)}}},[e._v(" 跟隨 ")])]),r("p",{staticClass:"member-description m-0",staticStyle:{"font-size":"0.8rem"}},[e._v(" "+e._s(t.introduction)+" ")])])])}))],2),r("div",{staticClass:"col-3 pr-0 pl-2 pt-2"},[r("FollowWho",{attrs:{"follow-data":e.followData,"add-who":e.addWho,"remove-who":e.removeWho},on:{addMark:e.addFollowMark,removeMark:e.removeFollowMark}})],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isTweetBtnClicked,expression:"isTweetBtnClicked"}],staticClass:"tweeting-area"},[r("TweetingForm",{attrs:{"user-avatar":e.userAvatar},on:{closeArea:e.closeTweetArea}})],1)])},a=[],n=r("1da1"),s=(r("96cf"),r("b0c0"),r("d81d"),r("caad"),r("2532"),r("ac1f"),r("1276"),r("7c08")),o=r("61f9"),l=r("cfb4"),c=r("2fa3"),u=r("4cce"),d={components:{SideBar:s["a"],FollowWho:o["a"],TweetingForm:l["a"]},data:function(){return{userId:this.$route.params.id,userAvatar:this.$store.state.currentUser.avatar,followData:[],followersClicked:!0,followingsClicked:!1,userName:"",addWho:-1,removeWho:-1,isProcessing:!1,isTweetBtnClicked:!1}},created:function(){this.followersOrfollowings(),this.fetchUser(this.userId),this.followersClicked?this.fetchFollowers(this.userId):this.fetchFollowings(this.userId)},methods:{fetchUser:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isProcessing=!0,r.next=4,u["a"].getUser({userId:e});case 4:if(i=r.sent,a=i.data,a){r.next=8;break}throw new Error;case 8:t.userName=a.name,t.isProcessing=!1,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"無法取得資料，請稍後再試！"});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},fetchFollowers:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isProcessing=!0,t.followersClicked=!0,t.followingsClicked=!1,r.next=6,u["a"].getFollowers({userId:e});case 6:if(i=r.sent,a=i.data,"error"!==a.status){r.next=10;break}throw new Error;case 10:t.followData=a,0===t.followData.length&&c["a"].fire({icon:"warning",title:"此帳戶無跟隨者資料！"}),t.isProcessing=!1,r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"無法取得資料，請稍後再試！"});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()},fetchFollowings:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.followersClicked=!1,t.followingsClicked=!0,t.isProcessing=!0,r.next=6,u["a"].getFollowings({userId:e});case 6:if(i=r.sent,a=i.data,"error"!==a.status){r.next=10;break}throw new Error;case 10:t.followData=a,0===t.followData.length&&c["a"].fire({icon:"warning",title:"此帳戶無跟隨中的資料"}),t.isProcessing=!1,r.next=18;break;case 15:r.prev=15,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"無法取得資料，請稍後再試！"});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()},addFollowing:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].addFollowing({id:e});case 3:if(i=r.sent,a=i.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.followData.map((function(t){t.id===e&&(t.isUserFollowing=!0)})),t.addWho=e,t.removeWho=-1,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"無法採取此動作，請稍後再試！"});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},removeFollowing:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var i,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].removeFollowing({id:e});case 3:if(i=r.sent,a=i.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.followData.map((function(t){t.id===e&&(t.isUserFollowing=!1)})),t.removeWho=e,t.addWho=-1,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),c["a"].fire({icon:"error",title:"無法採取此動作，請稍後再試！"});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},followersOrfollowings:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$route.path.split("/").includes("followings")&&(e.followersClicked=!1,e.followingsClicked=!0);case 1:case"end":return t.stop()}}),t)})))()},addFollowMark:function(e){this.followData.map((function(t){t.id===e&&(t.isFollowing=!0)}))},removeFollowMark:function(e){this.followData.map((function(t){t.id===e&&(t.isFollowing=!1)}))},openTweetArea:function(){this.isTweetBtnClicked=!0},closeTweetArea:function(){this.isTweetBtnClicked=!1}}},f=d,w=(r("0857"),r("2877")),h=Object(w["a"])(f,i,a,!1,null,"00b6ee26",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-dfc5261e.d5ea9a53.js.map